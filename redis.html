<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>A Racket Redis client</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="redis.html" class="tocviewselflink" data-pltdoc="x">A Racket Redis client</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="redis.html#%28part._.Getting_a_.Connection__.Connection_.Pools%29" class="tocviewlink" data-pltdoc="x">Getting a Connection:<span class="mywbr"> &nbsp;</span> Connection Pools</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="redis.html#%28part._.Sending_.Commands__.General%29" class="tocviewlink" data-pltdoc="x">Sending Commands:<span class="mywbr"> &nbsp;</span> General</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="redis.html#%28part._.Sending_.Commands__.Specific%29" class="tocviewlink" data-pltdoc="x">Sending Commands:<span class="mywbr"> &nbsp;</span> Specific</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="redis.html#%28part._.Pub.Sub-specific_.Connections%29" class="tocviewlink" data-pltdoc="x">Pub<span class="mywbr"> &nbsp;</span>Sub-<wbr></wbr>specific Connections</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="redis.html#%28part._.Errors%29" class="tocviewlink" data-pltdoc="x">Errors</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="redis.html#%28part._.Raw_.Connection%29" class="tocviewlink" data-pltdoc="x">Raw Connection</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.A_.Racket_.Redis_client%29" class="tocsubseclink" data-pltdoc="x">A Racket Redis client</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Getting_a_.Connection__.Connection_.Pools%29" class="tocsubseclink" data-pltdoc="x">Getting a Connection:<span class="mywbr"> &nbsp;</span> Connection Pools</a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection-pool~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">redis-<wbr></wbr>connection-<wbr></wbr>pool?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">redis-<wbr></wbr>connection?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._make-connection-pool%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>connection-<wbr></wbr>pool</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._kill-connection-pool%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">kill-<wbr></wbr>connection-<wbr></wbr>pool</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._connection-pool-lease%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">connection-<wbr></wbr>pool-<wbr></wbr>lease</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._connection-pool-return%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">connection-<wbr></wbr>pool-<wbr></wbr>return</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._current-redis-pool%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">current-<wbr></wbr>redis-<wbr></wbr>pool</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Sending_.Commands__.General%29" class="tocsubseclink" data-pltdoc="x">Sending Commands:<span class="mywbr"> &nbsp;</span> General</a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._send-cmd%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">send-<wbr></wbr>cmd</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._send-cmd%2Fno-reply%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">send-<wbr></wbr>cmd/<span class="mywbr"> &nbsp;</span>no-<wbr></wbr>reply</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._get-reply%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">get-<wbr></wbr>reply</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._get-reply-evt%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">get-<wbr></wbr>reply-<wbr></wbr>evt</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Sending_.Commands__.Specific%29" class="tocsubseclink" data-pltdoc="x">Sending Commands:<span class="mywbr"> &nbsp;</span> Specific</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Pub.Sub-specific_.Connections%29" class="tocsubseclink" data-pltdoc="x">Pub<span class="mywbr"> &nbsp;</span>Sub-<wbr></wbr>specific Connections</a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._pubsub-connection~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">pubsub-<wbr></wbr>connection?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._lease-pubsub-conn%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">lease-<wbr></wbr>pubsub-<wbr></wbr>conn</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._make-subscribe-chan%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>subscribe-<wbr></wbr>chan</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._return-pubsub-conn%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">return-<wbr></wbr>pubsub-<wbr></wbr>conn</span></span></a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Errors%29" class="tocsubseclink" data-pltdoc="x">Errors</a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._exn~3afail~3aredis~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> &nbsp;</span>fail:<span class="mywbr"> &nbsp;</span>redis?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-error%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">redis-<wbr></wbr>error</span></span></a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._.Raw_.Connection%29" class="tocsubseclink" data-pltdoc="x">Raw Connection</a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._connect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">connect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._disconnect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">disconnect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">redis-<wbr></wbr>connection</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">6.0.0.3</span></div><h2><a name="(part._.A_.Racket_.Redis_client)"></a><a name="(mod-path._redis)"></a>A Racket Redis client</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Stephen Chang &lt;<a href="mailto:stchang@racket-lang.org">stchang@racket-lang.org</a>&gt;</p><span class="SAuthorSep"><br/></span><p class="author">Marc Burns &lt;<a href="mailto:m4burns@csclub.uwaterloo.ca">m4burns@csclub.uwaterloo.ca</a>&gt;</p></span></div><p><table cellspacing="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="redis.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">redis</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <span class="stt">redis</span></span></td></tr></table></p><p>A <a href="http://redis.io/">Redis</a> client for Racket.</p><p><div class="SIntrapara"></div><div class="SIntrapara"></div></p><h3>1<tt>&nbsp;</tt><a name="(part._.Getting_a_.Connection__.Connection_.Pools)"></a>Getting a Connection: Connection Pools</h3><p>To connect to a Redis database, first create a connection pool, then
lease a connection from the pool.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._redis-connection-pool~3f))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection-pool~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">redis-connection-pool?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pool</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">bool/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pool</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Indicates whether <span class="RktVar">pool</span> is a Redis connection pool.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._redis-connection~3f))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">redis-connection?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">conn</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">bool/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">conn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Indicates whether <span class="RktVar">conn</span> is a Redis connection.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._make-connection-pool))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._make-connection-pool%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-connection-pool</a></span></span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:host</span><span class="hspace">&nbsp;</span><span class="RktVar">host</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:port</span><span class="hspace">&nbsp;</span><span class="RktVar">port</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:max-connections</span><span class="hspace">&nbsp;</span><span class="RktVar">max</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:max-idle</span><span class="hspace">&nbsp;</span><span class="RktVar">max-idle</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection-pool~3f%29%29" class="RktValLink" data-pltdoc="x">redis-connection-pool?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">host</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">"127.0.0.1"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">port</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._integer-in%29%29" class="RktValLink" data-pltdoc="x">integer-in</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">65535</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">6379</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">max</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">100</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">max-idle</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">10</span></td></tr></table></blockquote></div><div class="SIntrapara">Makes a Redis connection pool with the given parameters.</div></p><p>A connection pool maintains one connection per thread. Thus, a new
connection is created on the first call to
<span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._connection-pool-lease%29%29" class="RktValLink" data-pltdoc="x">connection-pool-lease</a></span> in a thread. Calling
<span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._connection-pool-lease%29%29" class="RktValLink" data-pltdoc="x">connection-pool-lease</a></span> a second time from the same thread will
return the same connection as the first lease call (as long as the
connection was not returned in between).</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._kill-connection-pool))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._kill-connection-pool%29%29" class="RktValDef RktValLink" data-pltdoc="x">kill-connection-pool</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pool</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pool</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection-pool~3f%29%29" class="RktValLink" data-pltdoc="x">redis-connection-pool?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Kills a connection pool. All the connections are disconnected.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._connection-pool-lease))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._connection-pool-lease%29%29" class="RktValDef RktValLink" data-pltdoc="x">connection-pool-lease</a></span></span><span class="hspace">&nbsp;</span>[<span class="RktVar">pool</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection~3f%29%29" class="RktValLink" data-pltdoc="x">redis-connection?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pool</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection-pool~3f%29%29" class="RktValLink" data-pltdoc="x">redis-connection-pool?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._current-redis-pool%29%29" class="RktValLink" data-pltdoc="x">current-redis-pool</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Leases a connection from the specified pool. <span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._current-redis-pool%29%29" class="RktValLink" data-pltdoc="x">current-redis-pool</a></span> is
used if no pool is given.</div></p><p>The pool maintains one connection per thread. Therefore, if no connection
exists for the current thread, then a new connection is created. If a
connection already exists for the current thread, then that connection is
returned.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._connection-pool-return))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._connection-pool-return%29%29" class="RktValDef RktValLink" data-pltdoc="x">connection-pool-return</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">conn</span><span class="hspace">&nbsp;</span>[<span class="RktVar">pool</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">conn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection~3f%29%29" class="RktValLink" data-pltdoc="x">redis-connection?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pool</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection-pool~3f%29%29" class="RktValLink" data-pltdoc="x">redis-connection-pool?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-redis-connection</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a connection to the specified pool. <span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._current-redis-pool%29%29" class="RktValLink" data-pltdoc="x">current-redis-pool</a></span> is
used if no pool is given.</div></p><p>UNSUBSCRIBE, PUNSUBSCRIBE, and UNWATCH are called on the channel before it&rsquo;s
returned to the pool.</p><p>Returning an already returned pool does nothing.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._current-redis-pool))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._current-redis-pool%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-redis-pool</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection-pool~3f%29%29" class="RktValLink" data-pltdoc="x">redis-connection-pool?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._current-redis-pool%29%29" class="RktValDef RktValLink" data-pltdoc="x">current-redis-pool</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">pool</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pool</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection-pool~3f%29%29" class="RktValLink" data-pltdoc="x">redis-connection-pool?</a></span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span></td><td><span class="RktVal">#f</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Represents the current connection pool.</div></p><p>The parameter is initially false, but gets set if <span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._send-cmd%29%29" class="RktValLink" data-pltdoc="x">send-cmd</a></span>
or <span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._send-cmd%2Fno-reply%29%29" class="RktValLink" data-pltdoc="x">send-cmd/no-reply</a></span> is called with no connection argument.</p><h3>2<tt>&nbsp;</tt><a name="(part._.Sending_.Commands__.General)"></a>Sending Commands: General</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._send-cmd))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._send-cmd%29%29" class="RktValDef RktValLink" data-pltdoc="x">send-cmd</a></span></span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:rconn</span><span class="hspace">&nbsp;</span><span class="RktVar">conn</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:host</span><span class="hspace">&nbsp;</span><span class="RktVar">host</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:port</span><span class="hspace">&nbsp;</span><span class="RktVar">port</span>]</td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">cmd</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">conn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">bool/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">host</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">"127.0.0.1"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">port</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._integer-in%29%29" class="RktValLink" data-pltdoc="x">integer-in</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">6535</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">6379</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cmd</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Sends the given command, with the given arguments, using the given connection
parameters. Waits for a reply from Redis and returns it.</div></p><ul><li><p>The <span class="RktVar">conn</span> connection is used if given.</p></li><li><p>Otherwise a new connection is leased from the
<span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._current-redis-pool%29%29" class="RktValLink" data-pltdoc="x">current-redis-pool</a></span>.</p></li><li><p>If no pool exists, then a new one is created using the given
<span class="RktVar">host</span> and <span class="RktVar">port</span> and set as the
<span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._current-redis-pool%29%29" class="RktValLink" data-pltdoc="x">current-redis-pool</a></span>.</p></li></ul><p>A command can either be a string, a byte string, or a symbol. An arguments can
take the form of a string, byte string, symbol, or number.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._send-cmd/no-reply))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._send-cmd%2Fno-reply%29%29" class="RktValDef RktValLink" data-pltdoc="x">send-cmd/no-reply</a></span></span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:rconn</span><span class="hspace">&nbsp;</span><span class="RktVar">conn</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:host</span><span class="hspace">&nbsp;</span><span class="RktVar">host</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:port</span><span class="hspace">&nbsp;</span><span class="RktVar">port</span>]</td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">cmd</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">arg</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection~3f%29%29" class="RktValLink" data-pltdoc="x">redis-connection?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">conn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">bool/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">host</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">"127.0.0.1"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">port</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._integer-in%29%29" class="RktValLink" data-pltdoc="x">integer-in</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">6535</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">6379</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cmd</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Same as <span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._send-cmd%29%29" class="RktValLink" data-pltdoc="x">send-cmd</a></span> except does not wait for a reply. The connection
used to send the command is returned.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._get-reply))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._get-reply%29%29" class="RktValDef RktValLink" data-pltdoc="x">get-reply</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">conn</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">conn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._connection-pool-lease%29%29" class="RktValLink" data-pltdoc="x">connection-pool-lease</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._current-redis-pool%29%29" class="RktValLink" data-pltdoc="x">current-redis-pool</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Gets a reply from Redis using the given connection.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._get-reply-evt))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._get-reply-evt%29%29" class="RktValDef RktValLink" data-pltdoc="x">get-reply-evt</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">conn</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/sync.html#%28def._%28%28quote._~23~25kernel%29._evt~3f%29%29" class="RktValLink" data-pltdoc="x">evt?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">conn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._connection-pool-lease%29%29" class="RktValLink" data-pltdoc="x">connection-pool-lease</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._current-redis-pool%29%29" class="RktValLink" data-pltdoc="x">current-redis-pool</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns an event that is ready for synchronization when the given connection
has a reply.</div></p><h3>3<tt>&nbsp;</tt><a name="(part._.Sending_.Commands__.Specific)"></a>Sending Commands: Specific</h3><p>This client also defines functions for specific Redis commands. These functions
have the same arguments as <span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._send-cmd%29%29" class="RktValLink" data-pltdoc="x">send-cmd</a></span>, minus the <span class="RktSym">cmd</span> argument.</p><p>Check the Redis documentation for what return values to expect.</p><ul><li><p>The following functions are available:
APPEND DEL GETSET MGET SETRANGE STRLEN EXISTS MSETNX RENAMENX GET GETRANGE RANDOMKEY SET MSET RENAME DUMP RESTORE SETBIT GETBIT BITCOUNT BITOP LPUSH LPUSHX LRANGE LLEN LREM RPUSH RPUSHX LINDEX LPOP RPOP RPOPLPUSH BLPOP BRPOP BRPOPL PUSH LINSERT LSET LTRIM HDEL HGETALL HINCRBY HINCRBYFLOAT HMGET HVALS HMSET HSET HEXISTS HSETNX HGET SADD SCARD SDIFF SDIFFSTORE SINTER SINTERSTORE SMEMBERS SREM SUNION SUNIONSTORE SISMEMBER SMOVE SPOP SRANDMEMBER ZADD ZCARD ZCOUNT ZINCRBY ZINTERSTORE ZRANGE ZRANGEBYSCORE ZREM ZREMRANGEBYRANK ZREMRANGEBYSCORE ZREVRANGE ZREVRANGEBYSCORE ZUNIONSTORE ZRANK ZREVRANK ZSCORE DECR DECRBY INCR INCRBY INCRBYFLOAT HKEYS HLEN EXPIRE EXPIREAT PERSIST PEXPIRE PEXPIREAT TTL PTTL MULTI DISCARD WATCH UNWATCH EXEC SUBSCRIBE UNSUBSCRIBE PSUBSCRIBE PUNSUBSCRIBE PUBLISH DBSIZE ECHO FLUSHALL FLUSHDB KEYS PING TIME TYPE AUTH QUIT SELECT</p></li><li><p>The following GET variations, which return different types of results, are defined:
GET/str GET/num GETRANGE/str GET/list GET/set GET/hash GET/heap</p></li><li><p>The following SET variations, which allow different types of input, are defined: SET/list SET/set SET/hash SET/heap</p></li><li><p>The following hash variations are defined: HGET/str</p></li><li><p>The following POP variations are defined: POP/list</p></li><li><p><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">do-MULTI</span></span></span><span class="stt"> </span><span class="RktSym">c</span><span class="stt"> </span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span> wraps <span class="RktSym"><span class="badlink"><span class="RktValLink">MULTI</span></span></span> and <span class="RktSym"><span class="badlink"><span class="RktValLink">EXEC</span></span></span> around the given commands.</p></li><li><p><div class="SIntrapara">The following functions are not available:
</div><div class="SIntrapara"><ul><li><p>SETNX, SETEX, PSETEX (use SET + options instead)</p></li><li><p>BGREWRITEAOF BGSAVE INFO LASTSAVE MIGRATE MONITOR MOVE SAVE SHUTDOWN SLAVEOF SLOWLOG SYNC CLIENT CONFIG DEBUG EVAL EVALSHA SCRIPT</p></li></ul></div></p></li></ul><h3>4<tt>&nbsp;</tt><a name="(part._.Pub.Sub-specific_.Connections)"></a>PubSub-specific Connections</h3><p>To help manage pubsub patterns, this client supports
<a name="(tech._pubsub._specific._connection)"></a><span style="font-style: italic">pubsub-specific connection</span>s.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._pubsub-connection~3f))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._pubsub-connection~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">pubsub-connection?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">conn</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">bool/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">conn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Indicates whether a connection is a <font class="badlink"><span class="techoutside"><span class="techinside">pubsub-specific connection.</span></span></font></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._lease-pubsub-conn))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._lease-pubsub-conn%29%29" class="RktValDef RktValLink" data-pltdoc="x">lease-pubsub-conn</a></span></span><span class="hspace">&nbsp;</span>[<span class="RktVar">pool</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._pubsub-connection~3f%29%29" class="RktValLink" data-pltdoc="x">pubsub-connection?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pool</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection-pool~3f%29%29" class="RktValLink" data-pltdoc="x">redis-connection-pool?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._current-redis-pool%29%29" class="RktValLink" data-pltdoc="x">current-redis-pool</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Leases a <a href="redis.html#%28tech._pubsub._specific._connection%29" class="techoutside" data-pltdoc="x"><span class="techinside">pubsub-specific connection</span></a> from the pool.</div></p><p>Creates a thread that monitors the connection for (p)subscribe and
(p)unsubscribe messages. Currently prints (un)subscription notices to stdout.</p><p>A custodian is created to manage the threads of the pubsub connection.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" class="prototype RForeground"><tr><td><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._make-subscribe-chan))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._make-subscribe-chan%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-subscribe-chan</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">conn</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">key</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktVar">pool</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:psubscribe</span><span class="hspace">&nbsp;</span><span class="RktVar">psub?</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="http://docs.racket-lang.org/reference/async-channel.html#%28def._%28%28lib._racket%2Fasync-channel..rkt%29._async-channel~3f%29%29" class="RktValLink" data-pltdoc="x">async-channel?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">conn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._pubsub-connection~3f%29%29" class="RktValLink" data-pltdoc="x">pubsub-connection?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pool</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection-pool~3f%29%29" class="RktValLink" data-pltdoc="x">redis-connection-pool?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-redis-connection</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">psub?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">bool/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">(P)Subscribes to a specified key or pattern. Returns an async-channel where
subscription messages are sent.</div></p><p>Creates a thread that monitors the connection for subscription messages.</p><p>To (p)unsubscribe from a subscription, use <span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._send-cmd%29%29" class="RktValLink" data-pltdoc="x">send-cmd</a></span> or <span class="RktSym"><span class="badlink"><span class="RktValLink">UNSUBSCRIBE</span></span></span>, or <span class="RktSym"><span class="badlink"><span class="RktValLink">PUNSUBSCRIBE</span></span></span> with the appropriate
<a href="redis.html#%28tech._pubsub._specific._connection%29" class="techoutside" data-pltdoc="x"><span class="techinside">pubsub-specific connection</span></a>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._return-pubsub-conn))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._return-pubsub-conn%29%29" class="RktValDef RktValLink" data-pltdoc="x">return-pubsub-conn</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">conn</span><span class="hspace">&nbsp;</span>[<span class="RktVar">pool</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">conn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._pubsub-connection~3f%29%29" class="RktValLink" data-pltdoc="x">pubsub-connection?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pool</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection-pool~3f%29%29" class="RktValLink" data-pltdoc="x">redis-connection-pool?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-redis-connection</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the <a href="redis.html#%28tech._pubsub._specific._connection%29" class="techoutside" data-pltdoc="x"><span class="techinside">pubsub-specific connection</span></a> to the pool.</div></p><p>Calls <span class="RktSym"><a href="http://docs.racket-lang.org/reference/custodians.html#%28def._%28%28quote._~23~25kernel%29._custodian-shutdown-all%29%29" class="RktValLink" data-pltdoc="x">custodian-shutdown-all</a></span> on the custodian associated with the
connection, killing all the threads associated with the connection.</p><h3>5<tt>&nbsp;</tt><a name="(part._.Errors)"></a>Errors</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._exn~3afail~3aredis~3f))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._exn~3afail~3aredis~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">exn:fail:redis?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">exn</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">bool/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Identifies a Redis exception.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._redis-error))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-error%29%29" class="RktValDef RktValLink" data-pltdoc="x">redis-error</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">msg</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._exn~3afail~3aredis~3f%29%29" class="RktValLink" data-pltdoc="x">exn:fail:redis?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">msg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Raises a Redis exception with the given message.</div></p><h3>6<tt>&nbsp;</tt><a name="(part._.Raw_.Connection)"></a>Raw Connection</h3><p>NOTE: It&rsquo;s not recommended to use the forms in this section.</p><p>The functions in this section enable basic connection and
disconnection from a Redis database. The user is responsible for
managing the connection.</p><p>In particular, using the same connection in different threads may require
some synchronization when sending commands and checking replies.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._connect))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._connect%29%29" class="RktValDef RktValLink" data-pltdoc="x">connect</a></span></span><span class="hspace">&nbsp;</span>[<span class="RktVar">host</span><span class="hspace">&nbsp;</span><span class="RktVar">port</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection~3f%29%29" class="RktValLink" data-pltdoc="x">redis-connection?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">host</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">"127.0.0.1"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">port</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._integer-in%29%29" class="RktValLink" data-pltdoc="x">integer-in</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">65535</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">6379</span></td></tr></table></blockquote></div><div class="SIntrapara">Connects to a Redis database at host <span class="RktVar">host</span> and port <span class="RktVar">port</span>. If
no host and port is provided, then <span class="RktSym">localhost</span> and 6379 are used,
respectively.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._redis/main..rkt)._disconnect))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._disconnect%29%29" class="RktValDef RktValLink" data-pltdoc="x">disconnect</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">conn</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">conn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection~3f%29%29" class="RktValLink" data-pltdoc="x">redis-connection?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Disconnects a Redis connection.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><p class="RForeground"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._redis/main..rkt)._redis-connection-pubsub~3f))"></a><a name="(def._((lib._redis/main..rkt)._redis-connection-owner))"></a><a name="(def._((lib._redis/main..rkt)._redis-connection-out))"></a><a name="(def._((lib._redis/main..rkt)._redis-connection-in))"></a><a name="(def._((lib._redis/main..rkt)._redis-connection~3f))"></a><a name="(def._((lib._redis/main..rkt)._struct~3aredis-connection))"></a><a name="(def._((lib._redis/main..rkt)._redis-connection))"></a><span title="Provided from: redis | Package: redis"><span class="RktSym"><a href="redis.html#%28def._%28%28lib._redis%2Fmain..rkt%29._redis-connection%29%29" class="RktValDef RktValLink" data-pltdoc="x">redis-connection</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">in</span><span class="stt"> </span><span class="RktSym">out</span><span class="stt"> </span><span class="RktSym">owner</span><span class="stt"> </span><span class="RktSym">pubsub?</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/port-ops.html#%28def._%28%28quote._~23~25kernel%29._input-port~3f%29%29" class="RktValLink" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/port-ops.html#%28def._%28%28quote._~23~25kernel%29._output-port~3f%29%29" class="RktValLink" data-pltdoc="x">output-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">owner</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/threads.html#%28def._%28%28quote._~23~25kernel%29._thread~3f%29%29" class="RktValLink" data-pltdoc="x">thread?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">pubsub?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">bool/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Redis connection data structure. The <span class="RktSym">owner</span> field is mutable.
The <span class="RktSym">pubsub?</span> field is mutable and optional.</div></p></div></div><div id="contextindicator">&nbsp;</div></body></html>